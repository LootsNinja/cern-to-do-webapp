<div class="container">
  <div class="half">
    <!-- Tasks form -->
    <div class="component-border">
      <form [formGroup]="taskForm" (ngSubmit)="onTaskSubmit()">
        <label>
          Task Name:
          <input type="text" formControlName="taskName" placeholder="Task Name">
        </label>
        <label>
          Task Description:
          <input type="text" formControlName="taskDescription" placeholder="Task Description">
        </label>
        <label>
          Category:
          <select formControlName="taskCategoryName">
            <option *ngFor="let category of categories" [value]="category.categoryName">{{ category.categoryName }}
            </option>
          </select>
        </label>
        <label>
          Deadline:
          <input type="date" formControlName="deadlineDate">
          <input type="time" formControlName="deadlineTime">
        </label>
        <button type="submit">Submit</button>
      </form>
    </div>

    <div class="component-border">
      <!-- Tasks list -->
      <div *ngFor="let task of tasks" class="card-border">
        <div class="card">
          <div class="card-header">
            <h2>{{ task.taskName }}</h2>
          </div>
          <div class="card-content">
            <span *ngIf="task.taskDescription"><p>Description: {{ task.taskDescription }}</p></span>
            <span *ngIf="task.taskCategoryName"><p>Category: {{ task.taskCategoryName }}</p></span>
            <span *ngIf="task.deadline"><p>Deadline: {{ task.deadline }}</p></span>
          </div>
          <div class="card-actions">
            <button (click)="deleteTask(task.taskId)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="half">
    <div class="component-border">
      <form [formGroup]="categoryForm" (ngSubmit)="onCategorySubmit()">
        <label>
          Category Name:
          <input type="text" formControlName="categoryName" placeholder="Category Name">
        </label>
        <label>
          Category Name:
          <input type="text" formControlName="categoryDescription" placeholder="Category Description">
        </label>
        <button type="submit">Create Category</button>
      </form>
    </div>

    <div class="component-border">
      <!-- Categories list -->
      <div *ngFor="let category of categories" class="card-border">
        <div class="card-header">
          <h2>{{ category.categoryName }}</h2>
        </div>
        <div class="card-content">
          <span *ngIf="category.categoryDescription"><p>Description: {{ category.categoryDescription }}</p></span>
        </div>
        <div class="card-actions">
          <button (click)="deleteCategory(category.categoryId)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>


<router-outlet/>
